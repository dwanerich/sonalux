/* ==== ROOT CONTAINER ====================================================== */
.virtualModulePanel{
  position:relative;
  display:flex;
  flex-direction:column;
  gap:20px;
  padding:25px 32px;
  width:120%;
  min-height:100vh;
  box-sizing:border-box;
  background:radial-gradient(1200px 600px at 18% 30%, #0f1417 0%, #0a0e11 45%, #07090b 100%);
  color:#e7e7e7;
  overflow:visible;
}

/* ==== PANEL WRAPPER (entire module sits on this) ========================== */
.fullPanelShell{ max-width:1080px; width:100%; margin:0 auto; }
.fullPanelInner{
  display:flex;
  flex-direction:column;
  gap:16px;
  padding-top:8px; /* gives breathing room under the screw line */
}

/* ==== DISPLAY SCREEN (PROMPT BOX) ======================================== */
.promptRow{
  position:relative;
  display:flex;
  flex-direction:column;
  gap:8px;
  max-width:980px;
  width:100%;
  margin:2px auto 0;
}
.promptRow::before{
  content:"";
  position:absolute;
  inset:-10px -12px -12px -12px;
  border-radius:16px;
  background:linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.02));
  border:1px solid rgba(255,255,255,0.12);
  filter:drop-shadow(0 12px 26px rgba(0,0,0,0.45));
  z-index:0;
}
.inputLabel{
  position:relative; z-index:1;
  font-size:14px; letter-spacing:.03em; opacity:.9; margin-bottom:6px;
}
.virtualTextarea{
  position:relative; z-index:1;
  width:100%; min-height:120px;
  padding:16px 18px; border-radius:12px;
  background:radial-gradient(400px 220px at 25% 0%, rgba(35,44,50,0.6) 0%, rgba(15,20,23,0.9) 60%), #0f1417;
  border:1px solid rgba(255,255,255,.14); color:#e7e7e7;
  outline:none; resize:vertical;
  box-shadow:inset 0 0 0 1px rgba(0,0,0,.35), 0 6px 22px rgba(0,0,0,.35);
}
.virtualTextarea::placeholder{ color:rgba(231,231,231,.55); }

/* ==== GENERIC 3-COLUMN CENTER ROW ======================================== */
.row3{
  display:grid;
  grid-template-columns:repeat(3,minmax(220px,1fr));
  gap:16px;
  max-width:980px;
  width:100%;
  margin:0 auto;
  align-items:center;
  justify-items:center;
}

/* ==== OLD-SCHOOL SELECT LOOK (requested) ================================== */
.selectGroup{
  display:flex; flex-direction:column; gap:6px; width:100%;
}
.select{
  width:100%;
  background:#0f1417;
  border:1px solid rgba(255,255,255,.12);
  color:#e7e7e7;
  padding:10px 12px;
  border-radius:10px;
  outline:none;
}

/* ==== MOOD BANK â€” framed under selectors ================================= */
.moodFrame{
  position:relative;
  max-width:980px; width:100%;
  padding:12px 14px; border-radius:12px;
  background:rgba(255,255,255,0.035);
  border:1px solid rgba(255,255,255,0.12);
  box-shadow:0 10px 24px rgba(0,0,0,0.28);
  margin:0 auto;
}
.moodHeader{ font-size:14px; letter-spacing:.03em; opacity:.9; margin:2px 0 10px 2px; }
.moodWrap{ display:flex; flex-wrap:wrap; gap:10px; }
.moodChip{
  padding:8px 12px; border-radius:10px; border:1px solid rgba(255,255,255,.15);
  background:#1a1f23; color:#cfcfcf; font-size:12px; letter-spacing:.04em;
  cursor:pointer; user-select:none; transition:background .15s ease, color .15s ease, border-color .15s ease;
}
.moodChip:hover{ background:#232a30; }
.moodChipActive{ background:#fff; color:#000; border-color:transparent; }
.moodChip:focus-visible{ outline:2px solid #fff; outline-offset:2px; }

/* ==== KNOBS STRIP (1-2-3 centered) ======================================= */
.knobRow{
  display:grid;
  grid-template-columns:repeat(3,minmax(160px,1fr));
  gap:16px;
  max-width:980px; width:100%;
  margin:4px auto 8px;
  align-items:start; justify-items:center;
  
}

/* ==== CROSS FADER ========================================================= */
.faderWrap{
  max-width:980px; width:100%;
  margin:0 auto;
  padding:6px 16px 10px;
}
.crossfaderContainer{
  position:relative; width:100%; display:flex; justify-content:center;
}
.crossfaderInner{ position:relative; width:300px; height:42px; user-select:none; }

/* The slider overlays the image and the thumb (stick) is centered vertically */
.crossfaderSlider{
  position:absolute; inset:0; width:100%; height:100%;
  background:transparent;
  -webkit-appearance:none; appearance:none; cursor:pointer;
}
.crossfaderSlider::-webkit-slider-thumb{
  -webkit-appearance:none; appearance:none;
  width:4px; height:28px; background:#fff; border-radius:2px; border:none;
  margin-top:7px; /* (42 - 28)/2 => perfect vertical centering */
  cursor:grab;
}
.crossfaderSlider:active::-webkit-slider-thumb{ cursor:grabbing; }
.crossfaderSlider::-moz-range-thumb{
  width:4px; height:28px; background:#fff; border-radius:2px; border:none; cursor:grab;
}
.crossfaderSlider::-webkit-slider-runnable-track{ height:100%; background:transparent; }
.crossfaderSlider::-moz-range-track{ height:100%; background:transparent; }

/* ==== FORM (file + actions only) ========================================= */
.formGrid{
  display:grid;
  grid-template-columns:1fr;
  gap:16px;
  max-width:980px; width:100%;
  margin:0 auto 4px;
}
.fullRow{ grid-column:1/-1; }
.virtualDropzone{
  width:100%; padding:18px; text-align:center; cursor:pointer; border-radius:12px;
  background:rgba(255,255,255,.03);
  border:1px dashed rgba(255,255,255,.18);
  color:#cfcfcf;
}
.virtualDropzone:hover{ background:rgba(255,255,255,.05); }
.actionRow{
  grid-column:1/-1; display:flex; gap:12px; align-items:center; justify-content:flex-start;
}
.errorText{ color:#ff6b6b; font-size:13px; }

/* ==== RESPONSIVE ========================================================== */
@media (max-width:960px){
  .row3{ grid-template-columns:repeat(3,minmax(180px,1fr)); }
  .knobRow{ grid-template-columns:repeat(3,minmax(140px,1fr)); }
}
@media (max-width:720px){
  .row3{ grid-template-columns:repeat(2,minmax(180px,1fr)); }
  .knobRow{ grid-template-columns:repeat(2,minmax(140px,1fr)); }
}
@media (max-width:540px){
  .row3, .knobRow{ grid-template-columns:1fr; }
}

/* ==== UTILS =============================================================== */
.virtualModulePanel *{ box-sizing:border-box; }

/* ==== CROSS FADER + GENERATE BUTTON ROW ================================== */
.faderBar{
  max-width:980px; width:100%;
  margin:0 auto;
  padding:4px 8px 10px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:16px;
}

.crossfaderContainer{ flex:1 1 auto; display:flex; justify-content:center; }
.crossfaderInner{ position:relative; width:300px; height:42px; user-select:none; }

/* keep the stick centered (works with your existing .crossfaderSlider rules) */

/* ==== GENERATE BUTTON (click-down effect) ================================= */
.genBtn{
  flex:0 0 auto;
  padding:12px 18px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,.14);
  background:
    radial-gradient(220px 120px at 20% 0%, rgba(45,55,62,.55) 0%, rgba(20,25,29,.9) 60%),
    #0f1417;
  color:#e7e7e7;
  font-size:14px;
  letter-spacing:.05em;
  box-shadow:
    inset 0 0 0 1px rgba(0,0,0,.35),
    0 8px 18px rgba(0,0,0,.35);
  cursor:pointer;
  transition: transform .08s ease, box-shadow .12s ease, border-color .12s ease, background .2s ease;
}
.genBtn:hover{
  border-color:rgba(255,255,255,.22);
  box-shadow:
    inset 0 0 0 1px rgba(0,0,0,.35),
    0 10px 22px rgba(0,0,0,.4);
}
.genBtn:active{
  transform: translateY(1px);
  box-shadow:
    inset 0 0 0 1px rgba(0,0,0,.45),
    0 6px 12px rgba(0,0,0,.35);
}

/* Responsive: stack button under fader on narrow screens */
@media (max-width:720px){
  .faderBar{ flex-direction:column; align-items:center; }
  .genBtn{ width:100%; max-width:300px; }
}

/* ==== PROMPT TOOLS (LEDs + toggle) ======================================= */
.statusTools{
  position:absolute;
  top:-6px;
  right:8px;
  display:flex;
  align-items:center;
  gap:10px;
  z-index:2;
}

.statusLeds{ display:flex; gap:6px; }

.statusToggle{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:4px;
}

.statusToggleLabel{
  font-size:10px;
  letter-spacing:.14em;
  text-transform:uppercase;
  color:rgba(231,231,231,.7);
  text-shadow:0 1px 0 rgba(0,0,0,.6), 0 -1px 0 rgba(255,255,255,.06);
}
.statusToggleSwitch{
  width:32px; height:16px;
  background:rgba(255,255,255,.1);
  border-radius:8px;
  position:relative;
  cursor:pointer;
  transition: background .2s ease;
}
.statusToggleSwitch::before{
  content:"";
  position:absolute;
  top:2px; left:2px;
  width:12px; height:12px;
  background:#fff;
  border-radius:50%;
  transition: transform .2s ease;
}
.statusToggleSwitch.active{
  background:rgba(255,255,255,.2);
}
.statusToggleSwitch.active::before{
  transform: translateX(16px);
}
